# Product Anomaly Detection

This project helps detect anomalies in product data using embeddings generated by Azure OpenAI and stored in an Azure SQL database.

## Setup Instructions

### Prerequisites

- Python 3.7 or higher
- pip (Python package installer)
- Access to Azure OpenAI and Azure SQL Database

### Installation

1. **Clone the repository**:
    ```bash
    git clone <repository_url>
    cd <repository_directory>
    ```

2. **Set up a virtual environment**:
    ```bash
    python -m venv venv
    source venv/bin/activate  # On Windows use `venv\Scripts\activate`
    ```

3. **Install dependencies**:
    ```bash
    pip install -r requirements.txt
    ```

4. **Set up environment variables**:
    - Create a `.env` file in the root directory of the project.
    - Copy the contents of `example.env` to `.env` and fill in your own values.

    ```bash
    cp example.env .env
    ```

    Example `.env` file:
    ```plaintext
    OPEN_AI_API_KEY=your_openai_api_key
    AZURE_OPENAI_ENDPOINT=https://your_azure_openai_endpoint
    EMBEDDING_API_KEY=your_embedding_api_key
    EMBEDDING_API_MODEL=https://your_embedding_api_model
    SQL_CONNECTION_PASSWORD=your_sql_connection_password
    ```

### Running the Scripts

1. **Generate Embeddings**:
    ```bash
    python add-embeddings.py
    ```

    This script will generate embeddings for the product data and store them in the Azure SQL database.

2. **Chat with Data**:
    ```bash
    python chat-with-data.py
    ```

    This script will fetch the embeddings from the SQL database and use them to detect anomalies in the product data.

### Files

- `add-embeddings.py`: Script to generate embeddings for product data and store them in the SQL database.
- `chat-with-data.py`: Script to fetch embeddings from the SQL database and use them to detect anomalies.
- `example.env`: Example environment variables file.
- `requirements.txt`: List of dependencies required for the project.

### Notes

- Ensure that your Azure OpenAI and SQL Database credentials are correctly set in the `.env` file.
- The virtual environment directory (`venv/`) and the `.env` file are included in the `.gitignore` to avoid committing sensitive information.

### License

This project is licensed under the MIT License.
